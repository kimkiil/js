<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

</head>
<body>
    
      <div class="container">
        <div class="row">
      
            <!-- <div class="col-sm-4">
              <img src="https://placehold.co/600" class="w-100">
              <h5>Card title</h5>
              <p>가격 : 70000</p>
            </div>
             -->
      
        </div>
      </div>
          
      <script>
        
        
        //상품 목록
        let products = [
          { id : 0, price : 70000, title : 'Blossom Dress' },
          { id : 1, price : 50000, title : 'Springfield Shirt' },
          { id : 2, price : 60000, title : 'Black Monastery' }
        ];
        
        //카드 생성 내가 만든 카드
        // for(let i = 0; i < products.length; i++){
        //     let card = document.createElement('div');
        //     card.className = 'col-sm-4';
        //     card.innerHTML = `
        //     <img src="https://placehold.co/600" class="w-100">
        //     <h5>${products[i].title}</h5>
        //     <p>가격 : ${products[i].price}</p>
        //     `;
        //     document.querySelector('.row').appendChild(card);
                
        // }
        
        //더 기능적인 카드 생성
        products.forEach((a, i)=>{
          var 템플릿 = 
          `<div class="col-sm-4">
             <img src="https://placehold.co/600" class="w-100">
             <h5>${a.title}</h5>
             <p>가격 : ${a.price}</p>
           </div>`;
           $('.row').append(템플릿);
         })



        // let cardList = document.querySelectorAll('.col-sm-4');
        // for(let i = 0; i < cardList.length; i++){
        //     document.querySelectorAll('.col-sm-4 h5')[i].innerHTML = products[i].title;
        //     document.querySelectorAll('.col-sm-4 p')[i].innerHTML = '가격 : ' + products[i].price;
        // }   

      </script> 

      <div class="container">
        <button class="btn btn-danger" id="more">더보기</button> 
        <button class="btn btn-danger" id="priceArray">가격순정렬</button>
        <button class="btn btn-danger" id="nameArray">상품명 다나가순 정렬</button>
        <button class="btn btn-danger" id="filterArray">6만원이하 상품만 보기</button>

      </div>
      
      <script>
        count = 0;
        $('#more').click(function(){
          count++;
          if(count == 1){
          $.get('https://codingapple1.github.io/js/more1.json')
          .done((data)=>{
            console.log(data);
            data.forEach((moreProducts, i) => {
              var 템플릿 = 
            `<div class="col-sm-4">
              <img src="https://placehold.co/600" class="w-100">
              <h5>${moreProducts.title}</h5>
              <p>가격 : ${moreProducts.price}</p>
            </div>`;
            $('.row').append(템플릿);
            })
        })
        }else if(count == 2){
          $.get('https://codingapple1.github.io/js/more2.json')
          .done((data)=>{
            console.log(data);
            data.forEach((moreProducts, i) => {
              var 템플릿 = 
            `<div class="col-sm-4">
              <img src="https://placehold.co/600" class="w-100">
              <h5>${moreProducts.title}</h5>
              <p>가격 : ${moreProducts.price}</p>
            </div>`;
            $('.row').append(템플릿);
        })
      })} else{
        $('#more').hide();
      }
    })

    $('#priceArray').click(function(){
      products.sort(function(a, b){
        return a.price - b.price;
      })
      $('.row').empty();
      products.forEach((a, i)=>{
          var 템플릿 = 
          `<div class="col-sm-4">
             <img src="https://placehold.co/600" class="w-100">
             <h5>${a.title}</h5>
             <p>가격 : ${a.price}</p>
           </div>`;
           $('.row').append(템플릿);
         })
    })

    $('#nameArray').click(function(){
      products.sort(function(a, b){
        if(a.title > b.title){ return -1; }
        else if(a.title < b.tltle){ return 1; };
      })
      $('.row').empty();
      products.forEach((a, i)=>{
          var 템플릿 = 
          `<div class="col-sm-4">
             <img src="https://placehold.co/600" class="w-100">
             <h5>${a.title}</h5>
             <p>가격 : ${a.price}</p>
           </div>`;
           $('.row').append(템플릿);
         })
    })
    
    $('#filterArray').click(function(){
      var filter = products.filter(function(a){
                    return a.price <= 60000;
                  })
      $('.row').empty();
      filter.forEach((a, i)=>{
          var 템플릿 = 
          `<div class="col-sm-4">
             <img src="https://placehold.co/600" class="w-100">
             <h5>${a.title}</h5>
             <p>가격 : ${a.price}</p>
           </div>`;
           $('.row').append(템플릿);
         })
    })
      </script>

      

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">      
</body>
</html>